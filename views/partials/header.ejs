<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> | SSOO Blog</title>
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  
  <!-- Fonts: SF Pro (Apple) and IBM Plex Sans Thai -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;500;600;700&display=swap">
  <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/sf-pro-display">
  
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/style.css">
  
  <!-- Meta description -->
  <meta name="description" content="SSOO - แพลตฟอร์มที่รวบรวมเสียงเล็กๆ จากทุกมุมโลก เปรียบเสมือนเสียงกระซิบที่รวมกันเป็นแรงสั่นสะเทือนทางวัฒนธรรม">
  
  <% if (typeof editMode !== 'undefined' && editMode) { %>
  <!-- TinyMCE -->
  <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
  <% } %>
</head>

<body>
  <!-- Apple Style Navbar -->
  <header class="apple-navbar">
    <div class="apple-navbar-container">
      <a href="/" class="apple-navbar-brand">
        <img src="/images/logo.png" alt="SSOO Blog" class="apple-logo-img">
      </a>
      
      <nav class="desktop-nav">
        <ul class="apple-navbar-nav">
          <li><a href="/" class="<%= path === '/' ? 'active' : '' %>">หน้าหลัก</a></li>
          <li><a href="/blogs" class="<%= path === '/blogs' ? 'active' : '' %>">บทความ</a></li>
          <% if (locals.user) { %>
            <li><a href="/profile" class="<%= path === '/profile' ? 'active' : '' %>">โปรไฟล์</a></li>
            <% if (user.role === 'admin') { %>
              <li><a href="/admin/dashboard" class="<%= path === '/admin/dashboard' ? 'active' : '' %>">แดชบอร์ด</a></li>
            <% } %>
            <li>
              <a href="/blogs/new" class="primary-button">
                <i class="fas fa-pen-to-square"></i> เขียนบทความ
              </a>
            </li>
            <li class="nav-divider mx-2"></li>
            <li>
              <a href="/auth/logout" class="nav-link nav-icon">
                <i class="fas fa-sign-out-alt"></i>
              </a>
            </li>
          <% } else { %>
            <li>
              <a href="/auth/login" class="primary-button">
                <i class="fas fa-sign-in-alt"></i> เข้าสู่ระบบ
              </a>
            </li>
          <% } %>
        </ul>
      </nav>
      
      <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
        <span class="toggle-icon"></span>
      </button>
    </div>
  </header>
  
  <!-- Mobile Menu -->
  <div class="mobile-menu d-none">
    <ul class="apple-mobile-nav">
      <li><a href="/" class="<%= path === '/' ? 'active' : '' %>">หน้าหลัก</a></li>
      <li><a href="/blogs" class="<%= path === '/blogs' ? 'active' : '' %>">บทความ</a></li>
      <% if (locals.user) { %>
        <li><a href="/profile" class="<%= path === '/profile' ? 'active' : '' %>">โปรไฟล์</a></li>
        <% if (user.role === 'admin') { %>
          <li><a href="/admin/dashboard" class="<%= path === '/admin/dashboard' ? 'active' : '' %>">แดชบอร์ด</a></li>
        <% } %>
        <li>
          <a href="/blogs/new" class="mobile-primary-button mt-4">
            <i class="fas fa-pen-to-square"></i> เขียนบทความ
          </a>
        </li>
        <li class="mt-3"><a href="/auth/logout">ออกจากระบบ</a></li>
      <% } else { %>
        <li class="mobile-cta">
          <a href="/auth/login" class="mobile-primary-button">
            <i class="fas fa-sign-in-alt"></i> เข้าสู่ระบบ
          </a>
        </li>
      <% } %>
    </ul>
  </div>
  
  <!-- Messages Container -->
  <div class="container messages-container">
    <% if (locals.messages && locals.messages.success) { %>
      <div class="alert alert-apple alert-success alert-dismissible fade show" role="alert">
        <div class="alert-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="alert-content">
          <%= messages.success %>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    <% } %>
    
    <% if (locals.messages && locals.messages.error) { %>
      <div class="alert alert-apple alert-danger alert-dismissible fade show" role="alert">
        <div class="alert-icon">
          <i class="fas fa-exclamation-circle"></i>
        </div>
        <div class="alert-content">
          <%= messages.error %>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    <% } %>
  </div>
  
  <div class="main-content">
</body>
</html>